{"uid":"f4dc7186ba1991c5","name":"Тест на удаление сообщения","fullName":"api_test.tests.test_delete_message#test_delete_message","historyId":"a91bdc872f0d3d220d360f1e6c68242c","time":{"start":1732980813820,"stop":1732980813900,"duration":80},"status":"failed","statusMessage":"Failed: Error: 401","statusTrace":"headers = {'Authorization': 'Bot MTI4NjYwOTgxOTEzNzk5ODg4Mw.Gj2Mlk.YsVgU6PYv7xVW5bl7RYt9DLg2QeCU4OXToIiSw', 'Content-Type': 'application/json'}\ndelete_message_endpoint = <api_test.endpoints.delete_message_endpoint.DeleteMessageEndpoint object at 0x7fd2523ddf30>\npost_message_endpoint = <api_test.endpoints.post_message_endpoint.PostMessageEndpoint object at 0x7fd2523de470>\nget_message_endpoint = <api_test.endpoints.get_message_endpoint.GetMessageEndpoint object at 0x7fd2523de410>\n\n    @allure.title(\"Тест на удаление сообщения\")\n    def test_delete_message(headers, delete_message_endpoint, post_message_endpoint, get_message_endpoint):\n        with allure.step(\"Отправка запроса на создание сообщения\"):\n            data = {\n                'content': post_message_endpoint.make_latin_lower(10)\n            }\n            post_message_endpoint.post_message_request(headers, data)\n        with allure.step(\"Проверка статус кода\"):\n>           post_message_endpoint.check_status_code(200)\n\napi_test/tests/test_delete_message.py:12: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <api_test.endpoints.post_message_endpoint.PostMessageEndpoint object at 0x7fd2523de470>\ncode = 200\n\n    def check_status_code(self, code):\n        if self.response.status_code == code:\n            pass\n        else:\n>           pytest.fail(f'Error: {self.response.status_code}')\nE           Failed: Error: 401\n\napi_test/endpoints/base_endpoint.py:35: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"get_message_endpoint","time":{"start":1732980813819,"stop":1732980813819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"post_message_endpoint","time":{"start":1732980813819,"stop":1732980813819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"headers","time":{"start":1732980813819,"stop":1732980813819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_message_endpoint","time":{"start":1732980813819,"stop":1732980813819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"Failed: Error: 401","statusTrace":"headers = {'Authorization': 'Bot MTI4NjYwOTgxOTEzNzk5ODg4Mw.Gj2Mlk.YsVgU6PYv7xVW5bl7RYt9DLg2QeCU4OXToIiSw', 'Content-Type': 'application/json'}\ndelete_message_endpoint = <api_test.endpoints.delete_message_endpoint.DeleteMessageEndpoint object at 0x7fd2523ddf30>\npost_message_endpoint = <api_test.endpoints.post_message_endpoint.PostMessageEndpoint object at 0x7fd2523de470>\nget_message_endpoint = <api_test.endpoints.get_message_endpoint.GetMessageEndpoint object at 0x7fd2523de410>\n\n    @allure.title(\"Тест на удаление сообщения\")\n    def test_delete_message(headers, delete_message_endpoint, post_message_endpoint, get_message_endpoint):\n        with allure.step(\"Отправка запроса на создание сообщения\"):\n            data = {\n                'content': post_message_endpoint.make_latin_lower(10)\n            }\n            post_message_endpoint.post_message_request(headers, data)\n        with allure.step(\"Проверка статус кода\"):\n>           post_message_endpoint.check_status_code(200)\n\napi_test/tests/test_delete_message.py:12: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <api_test.endpoints.post_message_endpoint.PostMessageEndpoint object at 0x7fd2523de470>\ncode = 200\n\n    def check_status_code(self, code):\n        if self.response.status_code == code:\n            pass\n        else:\n>           pytest.fail(f'Error: {self.response.status_code}')\nE           Failed: Error: 401\n\napi_test/endpoints/base_endpoint.py:35: Failed","steps":[{"name":"Отправка запроса на создание сообщения","time":{"start":1732980813820,"stop":1732980813899,"duration":79},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка статус кода","time":{"start":1732980813899,"stop":1732980813899,"duration":0},"status":"failed","statusMessage":"Failed: Error: 401\n","statusTrace":"  File \"/home/runner/work/diplom/diplom/api_test/tests/test_delete_message.py\", line 12, in test_delete_message\n    post_message_endpoint.check_status_code(200)\n  File \"/home/runner/work/diplom/diplom/api_test/endpoints/base_endpoint.py\", line 35, in check_status_code\n    pytest.fail(f'Error: {self.response.status_code}')\n  File \"/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"api_test.tests"},{"name":"suite","value":"test_delete_message"},{"name":"host","value":"fv-az1382-957"},{"name":"thread","value":"2093-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api_test.tests.test_delete_message"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":3},"items":[{"uid":"cb1ba26f609dc893","reportUrl":"https://prollla.github.io/diplom/2//#testresult/cb1ba26f609dc893","status":"failed","statusDetails":"Failed: Error: 401","time":{"start":1732980799469,"stop":1732980799582,"duration":113}},{"uid":"da03a350620ea15b","reportUrl":"https://prollla.github.io/diplom/1//#testresult/da03a350620ea15b","status":"failed","statusDetails":"Failed: Error: 401","time":{"start":1732980694525,"stop":1732980694646,"duration":121}}]},"tags":[]},"source":"f4dc7186ba1991c5.json","parameterValues":[]}