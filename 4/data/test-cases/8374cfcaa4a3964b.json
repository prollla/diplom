{"uid":"8374cfcaa4a3964b","name":"Тест на отправку сообщения. Негативный. Без тела запроса","fullName":"api_test.tests.test_post_message#test_post_message_empty_data","historyId":"237fe35d567bf0fbb9185f3396977afa","time":{"start":1732980833293,"stop":1732980833412,"duration":119},"status":"failed","statusMessage":"Failed: Error: 401","statusTrace":"headers = {'Authorization': 'Bot MTI4NjYwOTgxOTEzNzk5ODg4Mw.Gj2Mlk.YsVgU6PYv7xVW5bl7RYt9DLg2QeCU4OXToIiSw', 'Content-Type': 'application/json'}\npost_message_endpoint = <api_test.endpoints.post_message_endpoint.PostMessageEndpoint object at 0x7f16c082c9a0>\n\n    @allure.title(\"Тест на отправку сообщения. Негативный. Без тела запроса\")\n    def test_post_message_empty_data(headers, post_message_endpoint):\n        with allure.step(\"Отправка запроса\"):\n            data = {\n            }\n            post_message_endpoint.post_message_request(headers, data)\n        with allure.step(\"Проверка статус кода\"):\n>           post_message_endpoint.check_status_code(400)\n\napi_test/tests/test_post_message.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <api_test.endpoints.post_message_endpoint.PostMessageEndpoint object at 0x7f16c082c9a0>\ncode = 400\n\n    def check_status_code(self, code):\n        if self.response.status_code == code:\n            pass\n        else:\n>           pytest.fail(f'Error: {self.response.status_code}')\nE           Failed: Error: 401\n\napi_test/endpoints/base_endpoint.py:35: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"headers","time":{"start":1732980833293,"stop":1732980833293,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"post_message_endpoint","time":{"start":1732980833293,"stop":1732980833293,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"Failed: Error: 401","statusTrace":"headers = {'Authorization': 'Bot MTI4NjYwOTgxOTEzNzk5ODg4Mw.Gj2Mlk.YsVgU6PYv7xVW5bl7RYt9DLg2QeCU4OXToIiSw', 'Content-Type': 'application/json'}\npost_message_endpoint = <api_test.endpoints.post_message_endpoint.PostMessageEndpoint object at 0x7f16c082c9a0>\n\n    @allure.title(\"Тест на отправку сообщения. Негативный. Без тела запроса\")\n    def test_post_message_empty_data(headers, post_message_endpoint):\n        with allure.step(\"Отправка запроса\"):\n            data = {\n            }\n            post_message_endpoint.post_message_request(headers, data)\n        with allure.step(\"Проверка статус кода\"):\n>           post_message_endpoint.check_status_code(400)\n\napi_test/tests/test_post_message.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <api_test.endpoints.post_message_endpoint.PostMessageEndpoint object at 0x7f16c082c9a0>\ncode = 400\n\n    def check_status_code(self, code):\n        if self.response.status_code == code:\n            pass\n        else:\n>           pytest.fail(f'Error: {self.response.status_code}')\nE           Failed: Error: 401\n\napi_test/endpoints/base_endpoint.py:35: Failed","steps":[{"name":"Отправка запроса","time":{"start":1732980833293,"stop":1732980833412,"duration":119},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка статус кода","time":{"start":1732980833412,"stop":1732980833412,"duration":0},"status":"failed","statusMessage":"Failed: Error: 401\n","statusTrace":"  File \"/home/runner/work/diplom/diplom/api_test/tests/test_post_message.py\", line 28, in test_post_message_empty_data\n    post_message_endpoint.check_status_code(400)\n  File \"/home/runner/work/diplom/diplom/api_test/endpoints/base_endpoint.py\", line 35, in check_status_code\n    pytest.fail(f'Error: {self.response.status_code}')\n  File \"/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"api_test.tests"},{"name":"suite","value":"test_post_message"},{"name":"host","value":"fv-az651-938"},{"name":"thread","value":"2094-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api_test.tests.test_post_message"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":4},"items":[{"uid":"71f4cce2c494905f","reportUrl":"https://prollla.github.io/diplom/3//#testresult/71f4cce2c494905f","status":"failed","statusDetails":"Failed: Error: 401","time":{"start":1732980814426,"stop":1732980814508,"duration":82}},{"uid":"6d419bcfc7d9b74b","reportUrl":"https://prollla.github.io/diplom/2//#testresult/6d419bcfc7d9b74b","status":"failed","statusDetails":"Failed: Error: 401","time":{"start":1732980800174,"stop":1732980800311,"duration":137}},{"uid":"99cc59520306b193","reportUrl":"https://prollla.github.io/diplom/1//#testresult/99cc59520306b193","status":"failed","statusDetails":"Failed: Error: 401","time":{"start":1732980695229,"stop":1732980695315,"duration":86}}]},"tags":[]},"source":"8374cfcaa4a3964b.json","parameterValues":[]}